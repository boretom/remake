diff a/tests/scripts/features/errors b/tests/scripts/features/errors	(rejected hunks)
@@ -50,8 +50,11 @@ $delete_error_code = $? >> 8;
 
 $answer = "$rm_command cleanit
 $cleanit_error
-$make_name: [$makefile:2: clean] Error $delete_error_code (ignored)
-$rm_command foo\n";
+work/features/errors.mk:2: [clean] Error $delete_error_code (ignored)
+
+#0  clean at $fullworkdir/errors.mk:1
+$rm_command foo
+";
 
 &run_make_with_options($makefile,"",&get_logfile);
 
@@ -77,7 +80,9 @@ if (!$vos)
 
 $answer = "$rm_command cleanit
 $cleanit_error
-$make_name: [$makefile:5: clean2] Error $delete_error_code (ignored)
+work/features/errors.mk:5: [clean2] Error $delete_error_code (ignored)
+
+#0  clean2 at $fullworkdir/errors.mk:4
 $rm_command foo\n";
 
 &run_make_with_options($makefile,"clean2 -i",&get_logfile);
@@ -92,13 +97,20 @@ if (!$vos) {
 
 # Test that error line offset works
 
+$answer = "hi
+there
+work/features/errors.mk:4: *** [all] Error 1
+
+#0  all at $fullworkdir/errors.mk:2
+";
+
 run_make_test(q!
 all:
 	@echo hi
 	@echo there
 	@exit 1
 !,
-              '', "hi\nthere\n#MAKE#: *** [#MAKEFILE#:5: all] Error 1", 512);
+              '', $answer, 512);
 
 1;
 
